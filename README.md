# オーダーメイド寿司カスタマイズLP

「嫌いなネタ、入れません。」をコンセプトにした、完全オーダーメイド持ち帰り寿司のランディングページです。

## 🎯 コンセプト

このLPは「寿司を買う」のではなく「寿司を相談する」サービスです。

- ❌ セット名・固定価格・商品写真なし
- ⭕ あなた専用の寿司を組む相談型サービス

## ✨ 主な機能

1. **トップページ（LP）**
   - 魅力的なヒーローセクション
   - サービスの特徴説明
   - 利用の流れ
   - CTA（診断へ誘導）

2. **診断ページ**
   - 5つの質問形式
   - 人数、お子様の有無、苦手なネタ、お酒、予算
   - プログレスバー表示

3. **結果ページ**
   - あなた専用の寿司提案
   - ネタ構成イメージ
   - 目安価格・貫数
   - LINE誘導ボタン

## 🛠 技術スタック

- **フレームワーク**: Next.js 14 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **デプロイ**: Vercel 想定

## 📦 セットアップ

### 1. 依存パッケージのインストール

```bash
npm install
```

### 2. 環境変数の設定

プロジェクトルートに `.env.local` ファイルを作成し、LINE公式アカウントURLを設定してください：

```bash
# LINE公式アカウントURL（プロライン用）
NEXT_PUBLIC_LINE_ACCOUNT_URL=https://lactewq9.autosns.app/line
```

**作成方法（Anaconda環境）：**

1. **Anaconda Promptを開く**
2. **プロジェクトディレクトリに移動**
   ```bash
   cd "c:\Users\PC user\OneDrive\Desktop\移行用まとめフォルダー\カーソル　個人\寿司カスタマイズLP"
   ```
3. **`.env.local`ファイルを作成**
   ```bash
   # Windowsの場合
   echo NEXT_PUBLIC_LINE_ACCOUNT_URL=https://lactewq9.autosns.app/line > .env.local
   
   # または、テキストエディタで直接作成
   # ファイル名: .env.local
   # 内容: NEXT_PUBLIC_LINE_ACCOUNT_URL=https://lactewq9.autosns.app/line
   ```

**注意**: `.env.local`ファイルは`.gitignore`で除外されているため、Gitにはコミットされません。本番環境（Vercel等）では環境変数として設定してください。

### 3. 開発サーバーの起動

```bash
cd "c:\Users\PC user\OneDrive\Desktop\移行用まとめフォルダー\カーソル　個人\寿司カスタマイズLP"
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開きます。

### 3. ビルド

```bash
npm run build
```

### 4. 本番環境起動

```bash
npm start
```

## 📁 プロジェクト構造

```
/
├── app/
│   ├── page.tsx              # トップページ（LP）
│   ├── diagnosis/
│   │   └── page.tsx          # 診断ページ
│   ├── result/
│   │   └── page.tsx          # 結果ページ
│   ├── layout.tsx            # ルートレイアウト
│   └── globals.css           # グローバルスタイル
├── components/
│   ├── Hero.tsx              # ヒーローセクション
│   ├── Features.tsx          # 特徴セクション
│   ├── DiagnosisForm.tsx     # 診断フォーム
│   ├── ResultCard.tsx        # 結果表示カード
│   └── LineButton.tsx        # LINE誘導ボタン
├── package.json
├── tsconfig.json
├── tailwind.config.ts
└── README.md
```

## 🎨 デザインコンセプト

### カラーパレット

- **寿司レッド** (`#C41E3A`): メインアクセントカラー
- **寿司クリーム** (`#FFF8E7`): 背景色
- **寿司ダーク** (`#2C2C2C`): テキストカラー

### トーン

- 高級すぎない
- 職人感はあるが堅くない
- 「おせっかい」「相談に乗る」雰囲気

## 🔗 LINE連携（プロライン対応）

### プロラインとは

プロラインは、LINE公式アカウントの管理や自動応答、Webhook処理を簡単に行えるサービスです。

### LINE URLの設定

`.env.local` ファイルにLINE公式アカウントURLを設定してください：

```bash
NEXT_PUBLIC_LINE_ACCOUNT_URL=https://lin.ee/XXXXXXX
```

### 診断情報の引き継ぎ

診断結果はクエリパラメータとしてLINE URLに付与されます：

```
?people=3-4&scene=celebration&alcohol=light&likes=maki,ikura&no=hikarimono&budget=6000&message=【診断結果】...
```

**クエリパラメータの説明：**
- `people`: 人数（1, 2, 3-4, 5+）
- `scene`: シーン（family, couple, friends, celebration, solo）
- `alcohol`: お酒（none, light, heavy）
- `likes`: 好きなネタ（カンマ区切り）
- `no`: 外したいもの（カンマ区切り）
- `budget`: 予算（2000, 3000, 4000, 5000, 6000, 7000）
- `message`: 診断内容の全文（日本語で整形済み）

### プロラインでの設定方法

1. **プロラインのWebhook設定**
   - プロラインの管理画面でWebhookを有効化
   - クエリパラメータを受け取る設定を行う

2. **診断内容の自動送信**
   - Webhookで受け取ったクエリパラメータを元に、診断内容をメッセージとして送信
   - `message` パラメータに診断内容の全文が含まれています

3. **職人側での確認**
   - LINE公式アカウントに送信された診断内容を確認
   - クエリパラメータから詳細情報を取得可能

## 📱 レスポンシブ対応

- モバイルファースト設計
- タブレット・デスクトップ最適化済み
- Tailwindのレスポンシブクラスを活用

## 🚀 デプロイ（Vercel）

### 簡単デプロイ

1. GitHubにプロジェクトをプッシュ
2. Vercelにログイン
3. 「Import Project」でリポジトリを選択
4. 自動でデプロイ完了

### 環境変数

`.env.local` ファイルに以下の環境変数を設定してください：

```bash
NEXT_PUBLIC_LINE_ACCOUNT_URL=https://lin.ee/XXXXXXX
```

**Vercelでの設定方法：**
1. Vercelのプロジェクト設定画面を開く
2. 「Environment Variables」タブを選択
3. `NEXT_PUBLIC_LINE_ACCOUNT_URL` を追加
4. 値を設定して保存

## 📝 カスタマイズポイント

### LINE公式アカウントURL

実際のLINE公式アカウントURLに変更：

- `app/result/page.tsx` の `lineUrl` 変数
- 必要に応じて `components/LineButton.tsx` のデフォルト値も変更

### 診断ロジック

`components/ResultCard.tsx` の `generateSuggestion()` 関数で提案内容をカスタマイズ可能です。

### デザイン

`tailwind.config.ts` でカラーテーマを変更できます。

## 🐛 トラブルシューティング

### ポート3000が使用中

```bash
npm run dev -- -p 3001
```

### ビルドエラー

```bash
rm -rf .next
npm install
npm run build
```

## 💼 ビジネス展開の方法

このLPテンプレートは、他の寿司店や飲食店にも展開できるビジネスモデルとして設計されています。

### 🎯 ターゲット顧客

- **地域の寿司店**（持ち帰り専門店、テイクアウト対応店）
- **個人経営の寿司職人**
- **飲食店全般**（カスタマイズ可能なメニューを持つ店）

### 💰 ビジネスモデル

#### 1. **LP制作サービスとして提供**

**価格設定の例：**
- **基本パッケージ**: 50,000円〜100,000円
  - LP制作（このテンプレートをカスタマイズ）
  - LINE連携設定
  - デプロイ（Vercel）
  - 1回の修正対応

- **プレミアムパッケージ**: 150,000円〜300,000円
  - 基本パッケージの内容
  - オリジナルデザイン
  - 診断ロジックのカスタマイズ
  - 3ヶ月のサポート
  - SEO対策
  - アクセス解析設定

- **月額サポート**: 10,000円〜30,000円/月
  - 定期的なコンテンツ更新
  - 技術サポート
  - パフォーマンス改善

#### 2. **SaaSモデル（サブスクリプション）**

- **月額**: 5,000円〜15,000円/店舗
- **提供内容**:
  - テンプレートの使用権
  - 自動デプロイ
  - 管理画面での簡単カスタマイズ
  - 24時間サポート

### 📋 営業・提案の流れ

#### ステップ1: ターゲット店舗の選定

**見つけ方：**
- Googleマップで「寿司 持ち帰り」で検索
- Instagramで「#持ち帰り寿司」を検索
- 地域の飲食店情報サイトをチェック
- 既存の顧客からの紹介

**選定基準：**
- 持ち帰りメニューがある
- LINE公式アカウントを持っている（または作る意思がある）
- カスタマイズ対応に前向き
- デジタル化に興味がある

#### ステップ2: 初回コンタクト

**提案内容：**
1. **現状の課題を提示**
   - 「メニューを見ても何を選べばいいか分からない」
   - 「アレルギー対応の相談がしづらい」
   - 「予算内で最適な組み合わせが分からない」

2. **解決策の提示**
   - 診断フォームで顧客の要望を自動収集
   - LINEで直接相談できる仕組み
   - 職人の時間を節約しながら、顧客満足度向上

3. **成功事例の提示**
   - 導入後の問い合わせ増加率
   - 顧客満足度の向上
   - 売上向上の実績

#### ステップ3: デモ・提案書の作成

**デモサイトの準備：**
- このテンプレートを実際の店舗名でカスタマイズ
- 実際のLINE URLを設定
- 店舗の写真や情報を反映

**提案書に含める内容：**
- サービスの概要
- 導入効果（期待値）
- 料金プラン
- 導入スケジュール
- サポート内容

#### ステップ4: カスタマイズ・納品

**カスタマイズ項目：**
- 店舗名・ロゴ
- カラーテーマ（店舗のイメージに合わせる）
- 診断項目（店舗の特徴に合わせる）
- LINE URL設定
- デプロイ

#### ステップ5: サポート・改善

- 導入後のフォローアップ
- アクセス解析の確認
- 改善提案
- 継続的な関係構築

### 🚀 マーケティング戦略

#### 1. **コンテンツマーケティング**

- ブログ記事：「寿司店のデジタル化で売上3倍にした方法」
- 事例紹介：導入店舗の成功事例を紹介
- 無料ツール：診断フォームの無料版を提供

#### 2. **SNSマーケティング**

- Instagram：導入店舗のLPを紹介
- Twitter：飲食店向けのデジタル化情報を発信
- LinkedIn：BtoB向けのプロフェッショナルな情報発信

#### 3. **パートナーシップ**

- プロラインなどのLINE関連サービスと提携
- 地域の飲食店コンサルタントと提携
- デザイナー・コピーライターと提携

### 📊 成功指標（KPI）

**顧客側のKPI：**
- 問い合わせ数（LINE経由）
- コンバージョン率（診断完了率）
- 顧客満足度
- リピート率

**あなた側のKPI：**
- 成約率
- 顧客単価
- 顧客生涯価値（LTV）
- 紹介率

### 🤖 GPTに聞くべきビジネス質問例

以下のような質問をGPTに投げかけて、ビジネス戦略を深掘りできます：

```
1. 「地域の寿司店向けにLP制作サービスを提供するビジネスモデルについて、より詳細な価格設定とマーケティング戦略を教えてください。」

2. 「飲食店向けのSaaSビジネスを立ち上げる際の、初期投資と収益モデルについて教えてください。」

3. 「BtoBのLP制作サービスで、成約率を上げるための営業トークと提案書の作り方を教えてください。」

4. 「地域密着型のサービスをスケールさせる方法と、フランチャイズモデルの可能性について教えてください。」

5. 「飲食店のデジタル化支援ビジネスで、競合他社との差別化を図る方法を教えてください。」
```

### 📝 次のステップ

1. **テンプレートの汎用化**
   - 店舗情報を設定ファイルから読み込む
   - カラーテーマを簡単に変更できる仕組み
   - 診断項目を設定ファイルで管理

2. **管理画面の開発**
   - 店舗側で簡単にカスタマイズできる管理画面
   - アクセス解析ダッシュボード
   - 診断結果の分析機能

3. **マーケティング資料の作成**
   - 提案書テンプレート
   - デモサイト
   - 成功事例集

4. **パートナーシップの構築**
   - LINE関連サービスとの提携
   - 地域の飲食店コンサルタントとの連携

---

## 🔧 トラブルシューティング - プロライン連携

### 問題: `[[free1]]`が表示されない・通知が来ない

#### 確認事項

**1. プロラインのLINEログイン設定**
- プロライン管理画面 → 「設定」→「LINE連携」
- **LINEログイン設定が「ON」になっているか確認**
- OFFの場合、GETパラメータ（`free1`等）が無効になります

**2. シナリオメッセージの設定**
- プロライン管理画面 → 「シナリオ」→「初回登録シナリオ」（またはお持ち帰り寿司シナリオ）
- メッセージに`[[free1]]`が**半角**で記述されているか確認
- 例: `テスト[[free1]]` ではなく `診断内容:\n[[free1]]` のように記述

**3. Webhook設定**
- プロライン管理画面 → 「設定」→「Webhook設定」
- WebhookがONになっているか確認
- 友だち追加時のトリガーが有効か確認

**4. 通知設定**
- プロライン管理画面 → 「設定」→「通知設定」
- 友だち追加時の通知がONになっているか確認
- 管理者のLINEアカウントが正しく設定されているか確認
- **重要**: プロラインの管理者アカウントに通知が届く設定になっているか

**5. 診断結果ページのデバッグ情報を確認**
- 診断結果ページに黄色い枠で表示されるデバッグ情報を確認
- `free1パラメータ`に診断内容が含まれているか確認
- URLに正しくパラメータが付与されているか確認

#### よくある原因

1. **LINEログイン設定がOFF**: これが最も多い原因です。ONにしないとGETパラメータが無効になります。
2. **`[[free1]]`の記述ミス**: 全角になっていたり、スペースが入っていたりする
3. **シナリオが実行されていない**: 友だち追加時に正しいシナリオが実行されているか確認
4. **既に友だち追加済み**: 既に友だちの場合、シナリオが実行されないことがあります（プロラインの設定による）

#### 解決手順

```
1. プロライン管理画面でLINEログイン設定をONにする
2. シナリオメッセージを以下のように修正:

   [[snsnamesan]]
   
   この度は、お寿司のご相談誠にありがとうございます。
   
   以下の診断結果を確認しました:
   
   [[free1]]
   
   しばらくお待ちください。最適な寿司構成をご提案させていただきます。

3. 一度友だち追加を解除して、再度友だち追加を試す
4. 診断結果ページのデバッグ情報でパラメータが正しく渡っているか確認
5. プロラインの「テスト配信」機能で[[free1]]が正しく表示されるか確認
```

---

## 🔧 最新の技術的変更

### 2025年12月14日 - Vercelビルドエラー対応

#### 問題
- `useEffect`の依存配列に配列（`likes`, `no`）を直接含めると、React Hooksの依存配列の警告やビルドエラーが発生
- `useMemo`を使った場合も、依存配列に配列を入れると無限ループのリスク

#### 解決方法
`app/result/page.tsx`で以下の変更を実施：

```typescript
// 変更前（問題のあるコード）
const likes = searchParams.get('likes')?.split(',').filter(Boolean) || []
const no = searchParams.get('no')?.split(',').filter(Boolean) || []
useEffect(() => {
  // ...
}, [diagnosisMessage, people, scene, alcohol, likes, no, budget]) // ← 配列を直接依存配列に入れるとエラー

// 変更後（修正版）
const likesParam = searchParams.get('likes') || ''
const noParam = searchParams.get('no') || ''
const likes = likesParam.split(',').filter(Boolean)
const no = noParam.split(',').filter(Boolean)
useEffect(() => {
  // ...
}, [diagnosisMessage, people, scene, alcohol, likesParam, noParam, budget]) // ← 文字列を依存配列に
```

#### ポイント
- 配列の元の文字列（`likesParam`, `noParam`）を依存配列に使用
- 配列自体は依存配列から除外し、コンポーネント内で文字列から生成
- TypeScriptの型エラーも修正（`params[key as keyof typeof params]`）

この修正により、Vercelでのビルドが正常に完了するようになります。

---

## 📄 ライセンス

このプロジェクトは個人利用・商用利用ともに自由にご利用いただけます。

## 🙏 サポート

質問や問題があれば、Issueを立てるか、LINE公式アカウントでお問い合わせください。

---

**開発**: Next.js + TypeScript + Tailwind CSS  
**コンセプト**: 「嫌いなネタ、入れません。」  
**ビジネス**: 地域の寿司店・飲食店向けLP制作サービスとして展開可能
